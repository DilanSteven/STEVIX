{% include 'admin/navbar_lateral.html' %}
<div class="container py-5">
    <h1>Crear Nueva Temporada</h1>
    <form method="POST" enctype="multipart/form-data">
        <!-- Selección del Anime -->
        <div class="mb-3">
            <label for="anime_id" class="form-label">Anime</label>
            <select id="anime_id" name="anime_id" class="form-select" required>
                <option value="">Seleccione un Anime</option>
                {% for anime in animes %}
                    <option value="{{ anime[0] }}">{{ anime[1] }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Selección del Número de Temporada (1 a 10) -->
        <div class="mb-3">
            <label for="numero_temporada" class="form-label">Número de Temporada</label>
            <input type="number" id="numero_temporada" name="numero_temporada" class="form-control" min="1" max="10" required>
        </div>

        <!-- Título de la Temporada (Automáticamente basado en el número) -->
        <div class="mb-3">
            <label for="titulo" class="form-label">Título de Temporada</label>
            <input type="text" id="titulo" name="titulo" class="form-control" required readonly>
        </div>

        <!-- Fecha de Estreno -->
        <div class="mb-3">
            <label for="fecha_estreno" class="form-label">Fecha de Estreno</label>
            <input type="date" id="fecha_estreno" name="fecha_estreno" class="form-control" required>
        </div>

        <!-- Portada -->
        <div class="mb-3">
            <label for="portada" class="form-label">Portada</label>
            <input type="file" id="portada" name="portada" class="form-control" accept="image/*">
        </div>

        <!-- Botón de envío -->
        <button type="submit" class="btn btn-primary">Crear Temporada</button>
    </form>
</div>

<!-- Agregar JavaScript para actualizar el título dinámicamente -->
<script>
    document.getElementById("numero_temporada").addEventListener("input", function() {
        var numeroTemporada = this.value;
        var tituloTemporada = document.getElementById("titulo");
        
        // Si el número es válido, actualiza el título de la temporada
        if (numeroTemporada >= 1 && numeroTemporada <= 10) {
            tituloTemporada.value = "Temporada " + numeroTemporada;
        } else {
            tituloTemporada.value = "";
        }
    });
</script>

{% include 'admin/footer.html' %}
